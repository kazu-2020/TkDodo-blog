<% content_for(:title, @episode_data[:name]) %>

<style>
    .embed-episode {
        height: 200px;
        min-width: 240px;
    }
</style>

<div class="embed embed-episode rounded-sm shadow-md text-white border border-gray-450">
  <a href="<%= @episode_data[:url] %>" target="_blank">
    <div class="p-3 pb-2 grid grid-cols-12 gap-3 mb-auto" style="height: 158px;">
      <div class="col-span-5">
        <img
          decoding="async"
          src="<%= episode_image_src %>"
          class="rounded-sm"
          alt="<%= @episode_data[:name] %>"/>
      </div>
      <div class="col-span-7">
        <div class="text-xs">
          <span style="color: <%= @episode_data.dig(:partOfSeries, :style, :primaryLight) %>"><%= @episode_data.dig(:identifierGroup, :seriesName) %></span>
        </div>
        <div class="font-bold text-md mt-1 mb-2 line-clamp-2"><%= @episode_data[:name] %></div>
        <div class="text-gray-350 text-xs flex items-center mt-2">
          <span class="material-icons md-18">event</span>
          <span class="ml-1">初回放送日時:</span>
          <span class="ml-1"><%= Time.parse(@episode_data.dig(:releasedEvent, :startDate)).strftime("%Y年%-m月%-d日 %H時%M分") %></span>
        </div>
        <div class="text-gray-350 text-xs mt-2 line-clamp-2 description">
          <%= @episode_data[:description] %>
        </div>
      </div>
    </div>
    <%= render 'shared/embed_footer' %>
  </a>
</div>
