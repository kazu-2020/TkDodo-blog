<% content_for(:title, @faq_page_data[:name]) %>

<style>
    .embed-faqpage {
        height: 340px;
        min-width: 240px;
    }
</style>

<div class="embed embed-faqpage rounded-sm shadow-md text-white border border-gray-450">
  <a href="<%= "https://www.nhk.jp/p/ts/#{@episode_data.dig(:identifierGroup, :seriesId)}/faqpage/#{@faq_page_data[:id]}" %>" target="_blank">
    <div class="p-3 grid grid-cols-12 gap-3 mb-auto" style="height: 298px;">
      <div class="col-span-12">
        <div>
          <span class="text-xs" style="color: <%= @episode_data.dig(:partOfSeries, :style, :primaryLight) %>"><%= @episode_data.dig(:identifierGroup, :seriesName) %></span>
        </div>
        <div class="font-bold text-lg mt-1 mb-2"><%= @faq_page_data[:name] %></div>
        <div class="text-gray-350 text-sm line-clamp-3">
          <%= @faq_page_data[:description] %>
        </div>
      </div>

      <div class="questions col-span-12">
        <div
          class="col-span-12 border-t border-gray-350 pt-2"
        >
          <ol class="list-none text-gray-350">
            <% @faq_page_data[:questions].take(2).each do |question| %>
              <li class="mb-1">
                <div class="question flex text-white mb-2">
                  <span class="material-icons">help</span>
                  <span class="ml-2"><%= question[:name] %></span>
                </div>
                <div class="answer line-clamp-2"><%= question[:acceptedAnswer].first[:text] %></div>
              </li>
            <% end %>
          </ol>
        </div>
      </div>
    </div>
    <%= render 'shared/embed_footer' %>
  </a>
</div>
